/Users/hubert.rycaj/Documents/cradle-video-automation/.venv/lib/python3.9/site-packages/librosa/core/intervals.py:8: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import resource_filename
Testing files:
1: /Users/hubert.rycaj/Documents/cradle-video-automation/new_video_compare/backend/uploads/118699_963296_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_XR_PA_SMlFZwf_44f7400b.mp4
2: /Users/hubert.rycaj/Documents/cradle-video-automation/new_video_compare/backend/uploads/118699_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_PA_a99ae7b0.mov

--- Testing compare_loudness ---
Result: {'acceptance': {'integrated_lufs': -23.75, 'true_peak_db': -9.52, 'duration_seconds': 30.02, 'sample_rate': 44100, 'loudness_range_lu': 6.12}, 'emission': {'integrated_lufs': -23.67, 'true_peak_db': -9.26, 'duration_seconds': 30.0, 'sample_rate': 44100, 'loudness_range_lu': 5.81}, 'comparison': {'lufs_difference': 0.08, 'peak_difference_db': 0.26, 'is_lufs_match': True, 'is_peak_match': True, 'loudness_tolerance': 1.0}, 'has_loudness_differences': False}

--- Testing compare_audio_similarity ---
Result: {'mfcc_similarity': 0.9962, 'spectral_similarity': 0.9063, 'overall_audio_similarity': 0.9512, 'frames_compared': 1292}

--- Testing separate_sources (file1) ---
Result: {'source_dir': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_dphjdnkz', 'sources': {'vocals': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_dphjdnkz/htdemucs/118699_963296_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_XR_PA_SMlFZwf_44f7400b/vocals.wav', 'energy': 0.000461, 'present': True, 'proportion': 0.2188}, 'drums': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_dphjdnkz/htdemucs/118699_963296_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_XR_PA_SMlFZwf_44f7400b/drums.wav', 'energy': 0.000722, 'present': True, 'proportion': 0.3427}, 'bass': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_dphjdnkz/htdemucs/118699_963296_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_XR_PA_SMlFZwf_44f7400b/bass.wav', 'energy': 0.000543, 'present': True, 'proportion': 0.2577}, 'other': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_dphjdnkz/htdemucs/118699_963296_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_XR_PA_SMlFZwf_44f7400b/other.wav', 'energy': 0.00038, 'present': True, 'proportion': 0.1804}}, 'model': 'htdemucs', 'sample_rate': 44100, 'summary': {'vocals_proportion': 0.2188, 'music_proportion': 0.7812, 'has_vocals': True}}

--- Testing separate_sources (file2) ---
Result: {'source_dir': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_9n3o_h9x', 'sources': {'vocals': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_9n3o_h9x/htdemucs/118699_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_PA_a99ae7b0/vocals.wav', 'energy': 0.000462, 'present': True, 'proportion': 0.2164}, 'drums': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_9n3o_h9x/htdemucs/118699_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_PA_a99ae7b0/drums.wav', 'energy': 0.000736, 'present': True, 'proportion': 0.3448}, 'bass': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_9n3o_h9x/htdemucs/118699_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_PA_a99ae7b0/bass.wav', 'energy': 0.000552, 'present': True, 'proportion': 0.2586}, 'other': {'path': '/var/folders/9m/8pn37ck167qfp1hlytx4lz3h0000gq/T/demucs_9n3o_h9x/htdemucs/118699_CITROEN_ITALY_CTV_SUV_C5_AC_FEBRUARY_2026_30s_PA_a99ae7b0/other.wav', 'energy': 0.000384, 'present': True, 'proportion': 0.1799}}, 'model': 'htdemucs', 'sample_rate': 44100, 'summary': {'vocals_proportion': 0.2164, 'music_proportion': 0.7836, 'has_vocals': True}}

--- Testing compare_voiceovers ---
Result: {'voice_similarity': 0.0, 'dtw_cost': 27493.7759, 'timing': {'average_offset_seconds': 0.012, 'max_offset_seconds': 0.302, 'is_synced': True}, 'characteristics': {'acceptance_zcr': 0.1269, 'emission_zcr': 0.1262, 'acceptance_centroid': 2510.33, 'emission_centroid': 2482.96}, 'is_same_voice': False}
